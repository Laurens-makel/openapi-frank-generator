<Configuration
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="../FrankConfig.xsd"
    >
    <Adapter name="Adapter-api-v1-zaken-{zaak_uuid}-audittrail" description="Een API om een zaakregistratiecomponent (ZRC) te benaderen.

De ZAAK is het kernobject in deze API, waaraan verschillende andere
resources gerelateerd zijn. De Zaken API werkt samen met andere API&#x27;s voor
Zaakgericht werken om tot volledige functionaliteit te komen.

**Afhankelijkheden**

Deze API is afhankelijk van:

* Catalogi API
* Notificaties API
* Documenten API *(optioneel)*
* Besluiten API *(optioneel)*
* Autorisaties API *(optioneel)*

**Autorisatie**

Deze API vereist autorisatie. Je kan de
[token-tool](https://zaken-auth.vng.cloud/) gebruiken om JWT-tokens te
genereren.

### Notificaties

Deze API publiceert notificaties op het kanaal &#x60;zaken&#x60;.

**Main resource**

&#x60;zaak&#x60;



**Kenmerken**

* &#x60;bronorganisatie&#x60;: Het RSIN van de Niet-natuurlijk persoon zijnde de organisatie die de zaak heeft gecreeerd. Dit moet een geldig RSIN zijn van 9 nummers en voldoen aan https://nl.wikipedia.org/wiki/Burgerservicenummer#11-proef
* &#x60;zaaktype&#x60;: URL-referentie naar het ZAAKTYPE (in de Catalogi API) in de CATALOGUS waar deze voorkomt
* &#x60;vertrouwelijkheidaanduiding&#x60;: Aanduiding van de mate waarin het zaakdossier van de ZAAK voor de openbaarheid bestemd is.

**Resources en acties**
- &#x60;zaak&#x60;: create, update, destroy
- &#x60;status&#x60;: create
- &#x60;zaakobject&#x60;: create, update, destroy
- &#x60;zaakinformatieobject&#x60;: create
- &#x60;zaakeigenschap&#x60;: create, update, destroy
- &#x60;klantcontact&#x60;: create
- &#x60;rol&#x60;: create, destroy
- &#x60;resultaat&#x60;: create, update, destroy
- &#x60;zaakbesluit&#x60;: create
- &#x60;zaakcontactmoment&#x60;: create
- &#x60;zaakverzoek&#x60;: create


**Handige links**

* [Documentatie](https://vng-realisatie.github.io/gemma-zaken/standaard)
* [Zaakgericht werken](https://vng-realisatie.github.io/gemma-zaken)
">
        <Receiver name="Receiver-api/v1/zaken/{zaak_uuid}/audittrail">
            <ApiListener name="ApiListener-api/v1/zaken/{zaak_uuid}/audittrail" method="GET" uriPattern="/api/v1/zaken/{zaak_uuid}/audittrail" produces="JSON"/>
        </Receiver>
        <Pipeline>
            <Exits>
                <Exit path="EXIT"               state="SUCCESS" code="200" />
                <Exit path="NotModified"        state="SUCCESS" code="304" />
                <Exit path="BadRequest"         state="ERROR"   code="400" />
                <Exit path="NotAuthorized"      state="ERROR"   code="401" empty="true" />
                <Exit path="NotAllowed"         state="ERROR"   code="403" empty="true" />
                <Exit path="PreconditionFailed" state="ERROR"   code="412" />
                <Exit path="ServerError"        state="ERROR"   code="500" />
                <Exit path="Timeout"            state="ERROR"   code="504" />
            </Exits>

            <FixedResultPipeline name="Helloworld" result="Hello World!"/>

            <Json2XmlInputValidator
                                   schema="FindDocuments_GET_4/xsd/Archiving_Document_4_FindDocuments_1_GET.xsd"
                                   root="FindDocuments_Request"
                                   responseRoot="FindDocuments_Response,FindDocuments_Error"
                                   deepSearch="true">

                
                <Param name="zaak_uuid" path="zaak_uuid" />
                
                <Param name="uuid" path="uuid" />
                
                <Param name="type" path="type" />
                
                <Param name="code" path="code" />
                
                <Param name="title" path="title" />
                
                <Param name="status" path="status" />
                
                <Param name="detail" path="detail" />
                
                <Param name="instance" path="instance" />
                

                <Forward name="success"     path="Build_query" />
                <Forward name="parserError" path="NotWellFormed" />
                <Forward name="illegalRoot" path="IllegalRoot"/>
                <Forward name="failure"     path="InvalidXml"/>
            </Json2XmlInputValidator>
        </Pipeline>
    </Adapter>
</Configuration>


